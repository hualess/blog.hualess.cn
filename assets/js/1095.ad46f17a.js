(window.webpackJsonp=window.webpackJsonp||[]).push([[1095],{1679:function(e,s,t){"use strict";t.r(s);var a=t(2),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("部署了 kubegems，然后集群接入了，后来没再使用，再删除集群的命名空间时，遇到了如下的报错：")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("$ kubectl delete ns "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\nError from server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("InternalError"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(": Internal error occurred: failed calling webhook "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"valiate.namespace.dev"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" Post "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://kubegems-local-controller-webhook.kubegems-local.svc:443/validate?timeout=10s"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"kubegems-local-controller-webhook"')]),e._v(" not found\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("此时，需要先删除如下资源，然后再执行 delete 就不会报错了：")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("$ kubectl delete  validatingwebhookconfiguration kubegems-local-controller-webhook\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("validatingwebhookconfiguration 是 k8s 中一种 webhook，表示接受或拒绝和对象而不更改它的准入 Webhook 的配置。")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://t.eryajf.net/imgs/2023/07/1689427215160.jpg",alt:""}})])])}),[],!1,null,null,null);s.default=n.exports}}]);